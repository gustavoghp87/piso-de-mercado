
<div *ngIf="!mobile" class="blackyClass1" id="blacky"></div>
<div (window:scroll)="doSomethingOnWindowScroll($event)"></div>


<!-- <section *ngIf="!mobile" style="position:fixed; z-index:2; width:100%; background-color:#00d1b2;"> -->

<div style="width:100%; background-color:#00d1b2;" *ngIf="!(user$ | async)?.currentGroup">
    <h1 *ngIf="!mobile" style="text-align:center; padding-top:15px;"> <b>PISO DE MERCADO</b> </h1>
    <h2 *ngIf="!mobile" style="text-align:center; color:white; padding-bottom:18px;"> El lugar de encuentro para operadores e inversores </h2>
    <div *ngIf="mobile" style="padding:12px 15px;">
        <h1 style="text-align:center; font-size:2rem; font-weight:bolder;"> PISO DE MERCADO </h1>
        <h3 style="text-align:center; font-size:1.2rem; color:white;"> El lugar de encuentro para operadores e inversores </h3>
    </div>
</div>

<!-- <div style="position:absolute; right:0;"> barra </div> -->


<div *ngIf="!mobile" class="navigClass1" style="z-index:3;" id="navig">
    <!-- <h4 *ngIf="(user$ | async)" style="display:inline; color:gray;"> {{(user$ | async).username | json}} </h4> -->
    <!-- <h4 *ngIf="(user$ | async)" style="display:inline;"> - Email {{(user$ | async).email | json}} </h4> -->
    <button class="btn btn-danger mr-1" *ngIf="!(user$ | async)" (click)="openModal(content)"> Log in </button>
    <button class="btn mr-1" style="background-color:#00d1b2; color:white;" (click)="subir()"> Inicio </button>
    <a class="btn mr-1" style="background-color:#00d1b2; color:white;" href="#panelG"> Panel General </a>
    <a class="btn mr-1" style="background-color:#00d1b2; color:white;" href="#panelL"> Panel Líder </a>
    <a class="btn mr-1" style="background-color:#00d1b2; color:white;" href="#footer"> FAQ y Contacto </a>
    <a class="btn btn-danger" *ngIf="(user$ | async)" (click)="logOut()" style="color:white;">
        Log out {{(user$ | async).username | json}}
    </a>
</div>


<section *ngIf="mobile && showBottomNavbar" class="mobileNavbar">
    <div class="container">
        <div class="row" style="display:flex; text-align:center;">
            <div *ngIf="!(user$ | async)" class="col-3 mobileNavbarItem">
                <a (click)="openModal(content)" style="color:white;"> <span class="material-icons"> person_outline </span> <br /> Log in </a>
            </div>
            <div class="col-3 mobileNavbarItem">
                <a style="color:white;" (click)="subir()"> <span class="material-icons"> vertical_align_top </span> <br /> Subir </a>
            </div>
            <div class="col-3 mobileNavbarItem">
                <a href="#panelG" style="color:white;"> <span class="material-icons"> content_paste </span> <br /> General </a>
            </div>
            <div class="col-3 mobileNavbarItem">
                <a href="#panelL" style="color:white;"> <span class="material-icons"> content_paste </span> <br /> Líder </a>
            </div>
            <!-- <div class="col-3 mobileNavbarItem">
                <a href="#footer" style="color:white;"> FAO </a>
            </div> -->
            <div *ngIf="(user$ | async)" class="col-3 mobileNavbarItem">
                <a (click)="logOut()" style="color:white;"> <span class="material-icons"> logout </span> <br /> Log out </a>
            </div>
        </div>
    </div>
</section>





<!-- ################################################################################################################################################### -->

<!-- MODAL LOG IN -->

<ng-template #content let-modal>

    <div class="modal-header">
        <h4 class="modal-title" style="color:#00d1b2;"> LOG IN </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">

        <div class="container" style="padding-bottom:50px;" data-aos="fade-up">
            <br/><br/>
            <form (submit)="login($event)">
              <div class="field has-addons-centered" style="border: 1px solid #00d1b2; border-radius:10px;
               max-width:600px; display:block; margin:auto; padding-inline:20px;">
                <br/>
                <br/>
                <!-- <h3 style="margin-right:10px; color:#00d1b2; text-align:center;"> Loguear </h3> -->
                <!-- <br/> -->
                <div class="control">
                    <label class="label" style="color:#00d1b2;"> Username </label>
                    <input class="input" type="text" placeholder="Nombre de usuario" [(ngModel)]='username'
                     id='username' name='username' style="max-width:500px; display:block; margin:auto;" />
                </div>
                <br />
                <div class="control">
                    <label class="label" style="color:#00d1b2;"> Password </label>
                    <input class="input" type="password" placeholder="Password" [(ngModel)]='password'
                     id='password' name='password' style="max-width:500px; display:block; margin:auto;" />
                </div>
                <br />
                <div class="control">
                    <button class="button is-primary" style="display:block; margin:auto; width:200px;">
                        Entrar
                    </button>
                </div>
                <br/> <br/>
              </div>
            </form>
          </div>

        <a (click)="modal.dismiss('Cross click'); openModal(content2)" style="color:#00d1b2;">
            Crear usuario&hellip;
        </a>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="modal.close('Close click')">
            Cerrar
        </button>
    </div>
    
</ng-template>



<!-- MODAL CREATE USER -->

<ng-template #content2 let-modal>

    <div class="modal-header">
        <h4 class="modal-title" style="color:#00d1b2;"> CREAR NUEVO USUARIO </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">

        <div class="container" style="padding: 0 0 10px 0;" data-aos="fade-up">

            <div class="container" style="width:600px; max-width:94%; display:block; margin: 20px auto 10px auto;
                border: 1px solid #00d1b2; border-radius:10px; padding:15px;" data-aos="fade-up">
                
                <!-- <h2 *ngIf="mobile" class="title is-4" style="color:#00d1b2; text-align:center;">
                </h2>
                <h2 *ngIf="!mobile" class="title is-3" style="color:#00d1b2;">  </h2> -->
                
                <div class="field" style="margin-top:12px;">
                    <label class="label" style="color:#00d1b2;"> Username sin espacios ni mayúsculas (máx. 15) </label>
                    <div class="control">
                        <div class="columns">
                            <div class="column is-five-fifths">
                                <input class="input" type="text" placeholder="Username" [(ngModel)]="newUserUsername" name="newUserUsername" />
                            </div>
                        </div>
                    </div>
                    <br/>
                    <label class="label" style="color:#00d1b2;"> Password (mín. 10) </label>
                    <div class="control">
                        <div class="columns">
                        <div class="column is-five-fifths">
                            <input class="input" type="password" placeholder="Password" [(ngModel)]="newUserPassword" name="newUserPassword" />
                        </div>
                        </div>
                    </div>
                    <br/>
                    <label class="label" style="color:#00d1b2;"> Email </label>
                    <div class="control">
                        <div class="columns">
                        <div class="column is-five-fifths">
                            <input class="input" type="email" placeholder="Email" [(ngModel)]="newUserEmail" name="newUserEmail" />
                        </div>
                        </div>
                    </div>
                    <br/>
                    <button class="btn" style="display:block; margin:auto; background-color:#00d1b2; color:white;" (click)="createUser()">
                        Crear usuario
                    </button>
                    <br/>
                </div>
            </div>
        </div>
        <a (click)="modal.dismiss('Cross click'); openModal(content)" style="color:#00d1b2;">
            Ya tengo usuario&hellip;
        </a>
    </div>

    <!-- <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modal.close('Close click')"> Cerrar </button>
    </div> -->
    
</ng-template>
